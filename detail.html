<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zurich Heights - Property Detail</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .rich-editor {
            min-height: 150px;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 0.75rem;
            background: white;
            overflow-y: auto;
        }

        .rich-editor:focus {
            outline: 2px solid #000;
            outline-offset: -1px;
        }

        .toolbar button {
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            background: #f3f4f6;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .toolbar button:hover {
            background: #e5e7eb;
        }

        .rich-editor img {
            max-width: 100%;
            height: auto;
            border-radius: 0.25rem;
        }
    </style>
</head>

<body class="bg-gray-50 p-4 lg:px-[10%]">
    <div id="report-container">

        <img src="istockphoto-987784664-1024x1024.jpg" alt="Property Detail View"
            class="w-full h-48 md:h-72 object-cover rounded-xl shadow mb-6" />

        <button onclick="history.back()"
            class="mb-6 flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m12 19-7-7 7-7" />
                <path d="M19 12H5" />
            </svg>
            Back
        </button>

        <h1 class="text-2xl font-bold mb-6">Zurich Heights ‚Äî Street 10, Zurich</h1>

        <section class="bg-white p-4 rounded-xl shadow mb-6 text-sm relative">
            <button onclick="openSummaryModal()" class="absolute top-4 right-4 text-blue-600 hover:text-black">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                    <path d="m15 5 4 4" />
                </svg>
            </button>
            Built: <span id="sum-built">2005</span> ‚Ä¢ Units: <span id="sum-units">12</span> ‚Ä¢ Owners: <span
                id="sum-owners">6</span>
            <hr class="my-4">
            Insurance Value: <span id="sum-insurance">3‚Äô000‚Äô000</span><br>
            Renewal Fund: <span id="sum-renewal">150‚Äô000</span>
        </section>

        <!--------------  ACCORDION START  -------------->
        <div class="space-y-4">

            <!-- ROOF -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('roof')" class="w-full flex justify-between items-center p-4 font-semibold">
                    üè† Roof <span id="icon-roof">‚ñº</span>
                </button>
                <div id="roof" class="hidden p-4 border-t">
                    <button onclick="openAddModal('roof')" class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add new
                        expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr>
                            <td class="p-2">repair</td>
                            <td>2024</td>
                            <td class="pl-8">10‚Äô000</td>
                            <td class="text-right p-2 space-x-3">
                                <button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button>
                                <button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="p-2">safety install</td>
                            <td>2025</td>
                            <td class="pl-8">5‚Äô000</td>
                            <td class="text-right p-2 space-x-3">
                                <button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button>
                                <button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="p-2">roof cladding</td>
                            <td>2028</td>
                            <td class="pl-8">60‚Äô000</td>
                            <td class="text-right p-2 space-x-3">
                                <button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button>
                                <button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="p-2">maintenance</td>
                            <td>2035</td>
                            <td class="pl-8">35‚Äô000</td>
                            <td class="text-right p-2 space-x-3">
                                <button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button>
                                <button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- WINDOWS -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('windows')" class="w-full flex justify-between items-center p-4 font-semibold">
                    ü™ü Windows <span id="icon-windows">‚ñº</span>
                </button>
                <div id="windows" class="hidden p-4 border-t">
                    <button onclick="openAddModal('windows')" class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add
                        new
                        expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr>
                            <td class="p-2">repair</td>
                            <td>2023</td>
                            <td class="pl-8">5‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">fixtures</td>
                            <td>2025</td>
                            <td class="pl-8">8‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">seal</td>
                            <td>2027</td>
                            <td class="pl-8">20‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">maintenance</td>
                            <td>2037</td>
                            <td class="pl-8">35‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- FACADE -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('facade')" class="w-full flex justify-between items-center p-4 font-semibold">
                    üß± Facade <span id="icon-facade">‚ñº</span>
                </button>
                <div id="facade" class="hidden p-4 border-t">
                    <button onclick="openAddModal('facade')" class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add
                        new
                        expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr>
                            <td class="p-2">painting work</td>
                            <td>2030</td>
                            <td class="pl-8">40‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">isolation</td>
                            <td>2037</td>
                            <td class="pl-8">35‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- GARAGE -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('garage')" class="w-full flex justify-between items-center p-4 font-semibold">
                    üöó Garage <span id="icon-garage">‚ñº</span>
                </button>
                <div id="garage" class="hidden p-4 border-t">
                    <button onclick="openAddModal('garage')" class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add
                        new
                        expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr>
                            <td class="p-2">door</td>
                            <td>2030</td>
                            <td class="pl-8">20‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">e-mobility</td>
                            <td>2028</td>
                            <td class="pl-8">35‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- ELECTRICAL -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('electrical')"
                    class="w-full flex justify-between items-center p-4 font-semibold">
                    ‚ö° Electrical System <span id="icon-electrical">‚ñº</span>
                </button>
                <div id="electrical" class="hidden p-4 border-t">
                    <button onclick="openAddModal('electrical')"
                        class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add
                        new expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr>
                            <td class="p-2">lighting</td>
                            <td>2029</td>
                            <td class="pl-8">20‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">Solar installation</td>
                            <td>2035</td>
                            <td class="pl-8">35‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- HVAC -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('hvac')" class="w-full flex justify-between items-center p-4 font-semibold">
                    üå¨Ô∏è HVAC System <span id="icon-hvac">‚ñº</span>
                </button>
                <div id="hvac" class="hidden p-4 border-t">
                    <button onclick="openAddModal('hvac')" class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add new
                        expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr>
                            <td class="p-2">heating maintenance</td>
                            <td>2028</td>
                            <td class="pl-8">15‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">air handling unit</td>
                            <td>2035</td>
                            <td class="pl-8">50‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- SANITARY -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('sanitary')" class="w-full flex justify-between items-center p-4 font-semibold">
                    üöø Sanitary System <span id="icon-sanitary">‚ñº</span>
                </button>
                <div id="sanitary" class="hidden p-4 border-t">
                    <button onclick="openAddModal('sanitary')" class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add
                        new
                        expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr>
                            <td class="p-2">tubing maintenance</td>
                            <td>2028</td>
                            <td class="pl-8">15‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">new installation</td>
                            <td>2035</td>
                            <td class="pl-8">50‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- ELEVATOR -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('elevator')" class="w-full flex justify-between items-center p-4 font-semibold">
                    üõó Elevator <span id="icon-elevator">‚ñº</span>
                </button>
                <div id="elevator" class="hidden p-4 border-t">
                    <button onclick="openAddModal('elevator')" class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add
                        new
                        expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr>
                            <td class="p-2">maintenance</td>
                            <td>2035</td>
                            <td class="pl-8">20‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">modernization</td>
                            <td>2040</td>
                            <td class="pl-8">80‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- DIVERSE -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('diverse')" class="w-full flex justify-between items-center p-4 font-semibold">
                    üì¶ Diverse <span id="icon-diverse">‚ñº</span>
                </button>
                <div id="diverse" class="hidden p-4 border-t">
                    <button onclick="openAddModal('diverse')" class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add
                        new
                        expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr>
                            <td class="p-2">Door system</td>
                            <td>2035</td>
                            <td class="pl-8">10‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">new xyz</td>
                            <td>2040</td>
                            <td class="pl-8">3‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- GARDEN -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('garden')" class="w-full flex justify-between items-center p-4 font-semibold">
                    üå≥ Garden <span id="icon-garden">‚ñº</span>
                </button>
                <div id="garden" class="hidden p-4 border-t">
                    <button onclick="openAddModal('garden')" class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add
                        new
                        expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr>
                            <td class="p-2">new plants</td>
                            <td>2025</td>
                            <td class="pl-8">7‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" <button
                                    onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" <button onclick="deleteRow(this)"
                                    class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr>
                            <td class="p-2">playground</td>
                            <td>2028</td>
                            <td class="pl-8">3‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="editRow(this)" <button
                                    onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" <button onclick="deleteRow(this)"
                                    class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- ADMIN -->
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <button onclick="toggle('admin')" class="w-full flex justify-between items-center p-4 font-semibold">
                    üìë Admin (Recurring) <span id="icon-admin">‚ñº</span>
                </button>
                <div id="admin" class="hidden p-4 border-t">
                    <button onclick="openAddModal('admin')" class="mb-4 bg-gray-200 px-3 py-2 rounded-lg text-sm">Add
                        new
                        expense</button>
                    <table class="w-full text-left text-sm">
                        <tr class="border-b bg-gray-100">
                            <th class="p-2">Type</th>
                            <th>Done<br>/Due</th>
                            <th class="pl-8">Recurring</th>
                            <th class="pl-8">Cost</th>
                            <th class="text-right">Actions</th>
                        </tr>
                        <tr
                            data-details='<b>Repair:</b> Fixed minor leak in the main valve.<br>Checked all connections.'>
                            <td class="p-2">insurance house</td>
                            <td>2021</td>
                            <td class="pl-8">Yearly</td>
                            <td class="pl-8">3‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="viewDetails(this)"
                                    class="text-gray-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                                        <circle cx="12" cy="12" r="3" />
                                    </svg>
                                </button><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr data-details='<b>Inspection:</b> No issues found. Scheduled for next year.'>
                            <td class="p-2">differ maintenance</td>
                            <td>2021</td>
                            <td class="pl-8">Monthly</td>
                            <td class="pl-8">2‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="viewDetails(this)"
                                    class="text-gray-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                                        <circle cx="12" cy="12" r="3" />
                                    </svg>
                                </button><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                        <tr
                            data-details='<b>Maintenance Note:</b> Regular inspection completed.<br><i>Condition: Good</i>.<br><img src="istockphoto-1141065338-1024x1024.jpg" class="w-32 rounded mt-2">'>
                            <td class="p-2">real estate mgmt</td>
                            <td>2021</td>
                            <td class="pl-8">Quarterly</td>
                            <td class="pl-8">1‚Äô000</td>
                            <td class="text-right p-2 space-x-3"><button onclick="viewDetails(this)"
                                    class="text-gray-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                                        <circle cx="12" cy="12" r="3" />
                                    </svg>
                                </button><button onclick="editRow(this)" class="text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" />
                                        <path d="m15 5 4 4" />
                                    </svg>
                                </button><button onclick="deleteRow(this)" class="text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M3 6h18" />
                                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
                                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
                                        <line x1="10" x2="10" y1="11" y2="17" />
                                        <line x1="14" x2="14" y1="11" y2="17" />
                                    </svg>
                                </button></td>
                        </tr>
                    </table>
                </div>
            </div>

        </div>
        <!--------------  ACCORDION END -------------->
    </div>

    <div class="flex gap-4 my-10">
        <button class="flex-1 bg-slate-800 text-white p-3 rounded-lg">Save changes</button>
        <button class="flex-1 border border-black p-3 rounded-lg" onclick="generateReport()">Generate report</button>
    </div>

    <!-- Edit Modal -->
    <div id="modal" class="hidden fixed inset-0 bg-black/50 overflow-y-auto p-4 z-50">
        <div class="flex min-h-full items-center justify-center">
            <div class="bg-white w-full max-w-sm p-6 rounded-2xl space-y-4">
                <h2 class="text-xl font-semibold mb-2">Edit Entry</h2>
                <input id="edit-type" class="w-full p-3 border rounded-lg" placeholder="Type">
                <select id="edit-date" class="w-full p-3 border rounded-lg"></select>
                <div id="edit-recurring-container">
                    <select id="edit-recurring" class="w-full p-3 border rounded-lg">
                        <option value="Not recurring">Not recurring</option>
                        <option value="Monthly">Monthly</option>
                        <option value="Quarterly">Quarterly</option>
                        <option value="Half-yearly">Half-yearly</option>
                        <option value="Yearly">Yearly</option>
                    </select>
                </div>
                <input id="edit-cost" class="w-full p-3 border rounded-lg" placeholder="Cost">
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Details</label>
                    <div class="toolbar flex gap-2 mb-1">
                        <button type="button" onclick="formatDoc('bold')">B</button>
                        <button type="button" onclick="formatDoc('italic')">I</button>
                        <button type="button" onclick="insertImage()">üñºÔ∏è Image</button>
                    </div>
                    <div id="edit-details" contenteditable="true" class="rich-editor"></div>
                </div>
                <div class="flex gap-4 pt-4">
                    <button onclick="saveEdit()" class="flex-1 bg-black text-white py-2 rounded-lg">Save</button>
                    <button onclick="closeModal()" class="flex-1 border border-black py-2 rounded-lg">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Modal -->
    <div id="add-modal" class="hidden fixed inset-0 bg-black/50 overflow-y-auto p-4 z-50">
        <div class="flex min-h-full items-center justify-center">
            <div class="bg-white w-full max-w-sm p-6 rounded-2xl space-y-4">
                <h2 class="text-xl font-semibold mb-2">Add New Expense</h2>
                <input id="add-type" class="w-full p-3 border rounded-lg" placeholder="Type">
                <select id="add-date" class="w-full p-3 border rounded-lg"></select>
                <div id="add-recurring-container">
                    <select id="add-recurring" class="w-full p-3 border rounded-lg">
                        <option value="Not recurring">Not recurring</option>
                        <option value="Monthly">Monthly</option>
                        <option value="Quarterly">Quarterly</option>
                        <option value="Half-yearly">Half-yearly</option>
                        <option value="Yearly">Yearly</option>
                    </select>
                </div>
                <input id="add-cost" class="w-full p-3 border rounded-lg" placeholder="Cost">
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Details</label>
                    <div class="toolbar flex gap-2 mb-1">
                        <button type="button" onclick="formatDoc('bold')">B</button>
                        <button type="button" onclick="formatDoc('italic')">I</button>
                        <button type="button" onclick="insertImage()">üñºÔ∏è Image</button>
                    </div>
                    <div id="add-details" contenteditable="true" class="rich-editor"></div>
                </div>
                <div class="flex gap-4 pt-4">
                    <button onclick="saveAdd()" class="flex-1 bg-slate-800 text-white py-2 rounded-lg">Save</button>
                    <button onclick="closeAddModal()" class="flex-1 border border-black py-2 rounded-lg">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Modal -->
    <div id="delete-modal" class="hidden fixed inset-0 bg-black/50 overflow-y-auto p-4 z-50">
        <div class="flex min-h-full items-center justify-center">
            <div class="bg-white w-full max-w-sm p-6 rounded-2xl space-y-4">
                <h2 class="text-xl font-semibold mb-2">Delete Entry</h2>
                <p>Are you sure you want to delete this entry?</p>
                <div class="flex gap-4 pt-4">
                    <button onclick="confirmDelete()"
                        class="flex-1 bg-red-600 text-white py-2 rounded-lg">Delete</button>
                    <button onclick="closeDeleteModal()"
                        class="flex-1 border border-black py-2 rounded-lg">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- View Details Modal -->
    <div id="details-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden overflow-y-auto p-4 z-50">
        <div class="flex min-h-full items-center justify-center">
            <div class="bg-white w-full max-w-2xl p-6 rounded-2xl space-y-4">
                <div class="flex justify-between items-center">
                    <h2 class="text-xl font-semibold">Details</h2>
                    <button onclick="closeDetailsModal()" class="text-gray-500 hover:text-black">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div id="details-content" class="rich-editor min-h-[200px] bg-gray-50 border-none"></div>
                <button onclick="closeDetailsModal()" class="w-full bg-black text-white py-2 rounded-lg">Close</button>
            </div>
        </div>
    </div>

    <!-- Edit Summary Modal -->
    <div id="summary-modal" class="hidden fixed inset-0 bg-black/50 overflow-y-auto p-4 z-50">
        <div class="flex min-h-full items-center justify-center">
            <div class="bg-white w-full max-w-sm p-6 rounded-2xl space-y-4">
                <h2 class="text-xl font-semibold mb-2">Edit Summary</h2>
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Built Year</label>
                    <select id="edit-sum-built" class="w-full p-3 border rounded-lg"></select>
                </div>
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Units</label>
                    <input id="edit-sum-units" type="number" class="w-full p-3 border rounded-lg">
                </div>
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Owners</label>
                    <input id="edit-sum-owners" type="number" class="w-full p-3 border rounded-lg">
                </div>
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Insurance Value</label>
                    <input id="edit-sum-insurance" type="text" class="w-full p-3 border rounded-lg">
                </div>
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Renewal Fund</label>
                    <input id="edit-sum-renewal" type="text" class="w-full p-3 border rounded-lg">
                </div>
                <div class="flex gap-4 pt-4">
                    <button onclick="saveSummary()" class="flex-1 bg-black text-white py-2 rounded-lg">Save</button>
                    <button onclick="closeSummaryModal()"
                        class="flex-1 border border-black py-2 rounded-lg">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <input type="file" id="image-input" accept="image/*" class="hidden" onchange="handleImageUpload(this)">

    <!-- ========== FULL WORKING JAVASCRIPT ========== -->
    <script>
        function toggle(id) {
            const section = document.getElementById(id);
            const icon = document.getElementById("icon-" + id);
            section.classList.toggle("hidden");
            icon.textContent = section.classList.contains("hidden") ? "‚ñº" : "‚ñ≤";
        }

        let rowToDelete = null;
        const deleteModal = document.getElementById('delete-modal');

        function deleteRow(btn) {
            rowToDelete = btn.closest("tr");
            deleteModal.classList.remove("hidden");
        }

        function confirmDelete() {
            if (rowToDelete) rowToDelete.remove();
            closeDeleteModal();
        }

        function closeDeleteModal() {
            deleteModal.classList.add("hidden");
        }

        function sortTable(table) {
            const tbody = table.querySelector('tbody') || table;
            const rows = Array.from(tbody.querySelectorAll('tr:not(.bg-gray-100)'));

            rows.sort((a, b) => {
                const dateA = parseInt(a.children[1].innerText) || 0;
                const dateB = parseInt(b.children[1].innerText) || 0;
                return dateA - dateB;
            });

            rows.forEach(row => tbody.appendChild(row));
        }

        function populateYearSelects() {
            const selects = ['edit-date', 'add-date', 'edit-sum-built'];
            const currentYear = new Date().getFullYear();
            selects.forEach(id => {
                const select = document.getElementById(id);
                if (!select) return;
                select.innerHTML = '';
                const startYear = (id === 'edit-sum-built') ? 1900 : currentYear - 10;
                const endYear = currentYear + (id === 'edit-sum-built' ? 10 : 50);
                for (let y = startYear; y <= endYear; y++) {
                    const opt = document.createElement('option');
                    opt.value = y;
                    opt.textContent = y;
                    select.appendChild(opt);
                }
            });
        }

        function formatDoc(cmd, val) {
            document.execCommand(cmd, false, val);
        }

        function insertImage() {
            document.getElementById('image-input').click();
        }

        function handleImageUpload(input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    formatDoc('insertImage', e.target.result);
                    input.value = ''; // Reset for next selection
                };
                reader.readAsDataURL(file);
            }
        }

        function viewDetails(btn) {
            const tr = btn.closest('tr');
            const content = tr.getAttribute('data-details') || '<p class="text-gray-500">No additional details recorded.</p>';
            document.getElementById('details-content').innerHTML = content;
            document.getElementById('details-modal').classList.remove('hidden');
        }

        function closeDetailsModal() {
            document.getElementById('details-modal').classList.add('hidden');
        }

        function openSummaryModal() {
            document.getElementById('edit-sum-built').value = document.getElementById('sum-built').innerText;
            document.getElementById('edit-sum-units').value = document.getElementById('sum-units').innerText;
            document.getElementById('edit-sum-owners').value = document.getElementById('sum-owners').innerText;
            document.getElementById('edit-sum-insurance').value = document.getElementById('sum-insurance').innerText;
            document.getElementById('edit-sum-renewal').value = document.getElementById('sum-renewal').innerText;
            document.getElementById('summary-modal').classList.remove('hidden');
        }

        function closeSummaryModal() {
            document.getElementById('summary-modal').classList.add('hidden');
        }

        function saveSummary() {
            document.getElementById('sum-built').innerText = document.getElementById('edit-sum-built').value;
            document.getElementById('sum-units').innerText = document.getElementById('edit-sum-units').value;
            document.getElementById('sum-owners').innerText = document.getElementById('edit-sum-owners').value;
            document.getElementById('sum-insurance').innerText = document.getElementById('edit-sum-insurance').value;
            document.getElementById('sum-renewal').innerText = document.getElementById('edit-sum-renewal').value;
            closeSummaryModal();
        }

        function editRow(btn) {
            editingRow = btn.closest('tr');
            const sectionId = editingRow.closest('div[id]').id;
            const cells = editingRow.getElementsByTagName('td');
            const recurringContainer = document.getElementById('edit-recurring-container');

            document.getElementById('edit-type').value = cells[0].textContent;
            document.getElementById('edit-date').value = cells[1].textContent;

            if (sectionId === 'admin') {
                recurringContainer.classList.remove('hidden');
                document.getElementById('edit-recurring').value = cells[2].textContent;
                document.getElementById('edit-cost').value = cells[3].textContent;
            } else {
                recurringContainer.classList.add('hidden');
                document.getElementById('edit-cost').value = cells[2].textContent;
            }

            document.getElementById('edit-details').innerHTML = editingRow.getAttribute('data-details') || "";
            document.getElementById('modal').classList.remove('hidden');
        }

        function saveEdit() {
            const sectionId = editingRow.closest('div[id]').id;
            const type = document.getElementById('edit-type').value;
            const year = document.getElementById('edit-date').value;
            const cost = document.getElementById('edit-cost').value;
            const details = document.getElementById('edit-details').innerHTML;

            const cells = editingRow.getElementsByTagName('td');
            cells[0].textContent = type;
            cells[1].textContent = year;

            if (sectionId === 'admin') {
                const recurring = document.getElementById('edit-recurring').value;
                cells[2].textContent = recurring;
                cells[2].classList.add('pl-8');
                cells[3].textContent = cost;
                cells[3].classList.add('pl-8');
            } else {
                cells[2].textContent = cost;
                cells[2].classList.add('pl-8');
            }

            editingRow.setAttribute('data-details', details);
            const table = editingRow.closest('table');
            sortTable(table);
            closeModal();
        }
        function closeModal() { document.getElementById('modal').classList.add("hidden"); }

        let currentAddSection = null;
        const addModal = document.getElementById('add-modal');

        function openAddModal(sectionId) {
            currentAddSection = sectionId;
            const recurringContainer = document.getElementById('add-recurring-container');
            if (sectionId === 'admin') {
                recurringContainer.classList.remove('hidden');
            } else {
                recurringContainer.classList.add('hidden');
            }
            document.getElementById('add-type').value = '';
            document.getElementById('add-date').value = new Date().getFullYear();
            document.getElementById('add-recurring').value = 'Yearly';
            document.getElementById('add-cost').value = '';
            document.getElementById('add-details').innerHTML = '';
            addModal.classList.remove("hidden");
        }

        function closeAddModal() {
            addModal.classList.add("hidden");
        }

        function saveAdd() {
            const type = document.getElementById('add-type').value;
            const year = document.getElementById('add-date').value;
            const cost = document.getElementById('add-cost').value;
            const details = document.getElementById('add-details').innerHTML;

            if (!type || !cost) { alert("Please fill in Type and Cost"); return; }

            const section = document.getElementById(currentAddSection);
            const table = section.querySelector('table');
            const tbody = table.querySelector('tbody') || table;
            const tr = document.createElement('tr');
            tr.setAttribute('data-details', details);

            let rowHtml = `
                <td class="p-2">${type}</td>
                <td>${year}</td>
            `;

            if (currentAddSection === 'admin') {
                const recurring = document.getElementById('add-recurring').value;
                rowHtml += `<td class="pl-8">${recurring}</td>`;
            }

            rowHtml += `
                <td class="pl-8">${cost}</td>
                <td class="text-right p-2 space-x-3">
                    <button onclick="viewDetails(this)" class="text-gray-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                    </button>
                    <button onclick="editRow(this)" class="text-blue-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
                    </button>
                    <button onclick="deleteRow(this)" class="text-red-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>
                    </button>
                </td>
            `;

            tr.innerHTML = rowHtml;
            tbody.appendChild(tr);
            sortTable(table);
            closeAddModal();
        }

        function populateDummyData() {
            const rows = document.querySelectorAll('table tr:not(:first-child)');
            const dummyContent = [
                '<b>Maintenance Note:</b> Regular inspection completed.<br><i>Condition: Good</i>.<br><img src="istockphoto-1141065338-1024x1024.jpg" class="w-32 rounded mt-2">',
                '<b>Upgrade:</b> Installed high-capacity units.<br>Warranty valid until 2030.<br><i>Provider: SwissPower Ltd.</i>',
                '<b>Repair:</b> Fixed minor leak in the main valve.<br>Checked all connections.<br><b>Status:</b> Completed.',
                '<b>Inspection:</b> No issues found. Scheduled for next year.<br><i>Inspector: John Doe</i>'
            ];

            rows.forEach((row, idx) => {
                if (!row.getAttribute('data-details')) {
                    row.setAttribute('data-details', dummyContent[idx % dummyContent.length]);
                }
                const actionsCell = row.querySelector('.text-right');
                if (actionsCell && !actionsCell.innerHTML.includes('viewDetails')) {
                    actionsCell.insertAdjacentHTML('afterbegin', `
                        <button onclick="viewDetails(this)" class="text-gray-600">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                        </button>
                    `);
                }
            });
        }

        async function generateReport() {
            const btn = document.querySelector('button[onclick="generateReport()"]');
            const originalText = btn.textContent;
            btn.textContent = "Generating...";
            btn.disabled = true;

            // 1. Identify all sections to expand and elements to hide
            const sections = document.querySelectorAll('.space-y-4 > div > div[id]');
            const addButtons = document.querySelectorAll('button[onclick^="openAddModal"]');
            const actionHeaders = document.querySelectorAll('th.text-right');
            const actionCells = document.querySelectorAll('td.text-right');

            // 2. Save current state and force expand/hide
            const hiddenSections = [];
            sections.forEach(s => {
                if (s.classList.contains('hidden')) {
                    hiddenSections.push(s.id);
                    s.classList.remove('hidden');
                    const icon = document.getElementById("icon-" + s.id);
                    if (icon) icon.textContent = "‚ñ≤";
                }
            });

            addButtons.forEach(b => b.style.display = 'none');
            actionHeaders.forEach(h => h.style.display = 'none');
            actionCells.forEach(c => c.style.display = 'none');

            // 3. Generate PDF
            const element = document.getElementById('report-container');
            const opt = {
                margin: 10,
                filename: 'Property_Report.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: {
                    scale: 2,
                    useCORS: true,
                    scrollY: 0,
                    windowHeight: element.scrollHeight
                },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
                pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
            };

            // Scroll to top to avoid blank pages from scroll position
            window.scrollTo(0, 0);

            try {
                await html2pdf().set(opt).from(element).save();
            } catch (error) {
                console.error("PDF generation failed:", error);
                alert("Failed to generate PDF. Please try again.");
            } finally {
                // 4. Restore state
                hiddenSections.forEach(id => {
                    const s = document.getElementById(id);
                    s.classList.add('hidden');
                    const icon = document.getElementById("icon-" + id);
                    if (icon) icon.textContent = "‚ñº";
                });

                addButtons.forEach(b => b.style.display = '');
                actionHeaders.forEach(h => h.style.display = '');
                actionCells.forEach(c => c.style.display = '');

                btn.textContent = originalText;
                btn.disabled = false;
            }
        }
        // Initialize sorting, year selection, and dummy data on page load
        window.onload = function () {
            populateYearSelects();
            populateDummyData();
            document.querySelectorAll('table').forEach(sortTable);
        };
    </script>

</body>

</html>